RELEASES: 

vX.Y.Z
Focus: Minor bug fixes and maintenance

BUG FIXES:
1. When viewing a list, fix the use of 'Use all checked' and 'Use all in list' when organizing resources, adding to basket etc.
2. Add back in the missing Admin|Languages menu item.
3. Fix global deletion when editing note and note happens to be an empty string.
4. Fix paging of ideas from Advanced Search.

MAINTENANCE:
1. Update Smarty (v3.1.36)

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v6.3.8
Focus: Minor bug fixes, maintenance, and feature enhancements

BUG FIXES:
1. For the special restricted user, ensure they cannot change their user details (inc. password) in MyWikindx.
2. Tidied up display of MyWikindx.
3. Fix a duplicate declaration of default value for db users.usersFullname field.
4. Update the repairkit schema.
5. Prevent a crash when the database is empty and the userId is known by the session.
6. Prevent a crash with a negative result when full-text searching attachments (Advanced search).
7. When full-text searching attachments (Advanced search), ensure all attachments with the search term are presented for each resource.
8. When browsing resources or listing some by various parameters, ensure the displayed list parameters are maintained through reordering operations.
9. Fix a missing input message when the last multi list is Metadata:Keyword.
10. Fix for web server crash with pasted images: https://sourceforge.net/p/wikindx/v5bugs/239/
11. Guard against null resource IDs in the total list when executing some searches.
12. Correct 'Resources citing this' link when viewing a single resource.
13. When browsing cited creators, ensure cited resources without creators do not cause an error.
14. Ensure there is no option to add bookmarks when viewing the front page.
15. When deleting resources from within a list (i.e. using the select box to delete set resources), ensure that the new display of the list has the corrected number of resources and the correct paging links. Equally, if all resources in the list are deleted, return to the FRONT page.
16. When browsing metadata keywords, clicking on the Reorder button produced and error: fixed.

MAINTENANCE:
1. Remove the MySql persistent connection option (WIKINDX_DB_PERSISTENT). Experienced users who know how to use this tricky option can still use the host's 'p:' syntax.
2. Remove unnecessary serialize/base64 combinations when dealing with session arrays.

FEATURE ENHANCEMENTS:
1. Added a keyword group feature. Keyword groups allow the individual user to group semantically similar keywords together so the resources or metadata can then be browsed together. To create a keyword group, at least two keywords must be in the database. A keyword group is private to the user who created it but the ability to browse them can be shared with one or more user groups (created in Wikindx|MyWikindx). When creating a keyword group, adding one or more user groups is not required, likewise the keyword group description: the name and at least two keywords, though, are required. Once created, the resources belonging to all of the keywords in the group can be browsed in Search|Browse... and metadata can be browsed in the Metadata menu.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.3.7
Focus: Minor bug fixes and feature enhancements.

BUG FIXES:
1. Correct a path for a file icon.

FEATURE ENHANCEMENTS:
1. Added delete icons to individual quotes, paraphrases, and musings when viewing a resource.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.3.6
Focus: Minor bug fixes and maintenance.

BUG FIXES:
1. When adding a plain/txt attachment to a resource, ensure it is copied to the cache directory so it can be searched from Advanced search.
2. In Advanced search, correct a path when zipping attachments.
3. Minor correction APA style for unpublished works.

MAINTENANCE:
1. Update PHPMailer to 6.1.7.
2. Add a component compatible version for each type of component.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.3.5
Focus: Minor bug fixes and maintenance.

BUG FIXES:
1. For the wikindx testdrive, update the password of user 'wikindx'.
2. Ensure menu plugins display in the menu system where $authorize in the plugin's config.php is set to 1.
3. Fix an SQL error for non-admin registered users using QUICKSEARCH and alphabetical listing.
4. Corrected incorrect paging when inserting a citation into metadata.

MAINTENANCE:
1. Switch the project to ISC License.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.3.4
Focus: Quick bug fix.

BUG FIXES:
1. Fix for PHP < 7.2.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.3.3
Focus: Quick bug fix.

BUG FIXES:
1. Fix the release of ideagen plugin and default template components.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.3.2
Focus: Maintenance and minor feature enhancement.

BUG FIXES:
1. Fix an error that prevent the upgrade of components.
2. Fix some notices when a resource without creator is displayed.
3. Fix the BCP 47 code of to_TO locale.
4. Temporary fix to legacy issue (to be fixed permanently on next database upgrade) – disabled resource types can be stored incorrectly leading to errors when disabling the types from Admin|Configure.
5. Fix mismatch between search results in numerical and alphabetical mode.
6. Add missing message about 'shortNewspaper'.
7. Fix display of deactivated resource types in Admin|Configure.

MAINTENANCE:
1. Changes the operation of the component version number so as not to mislead users.
2. Increase memory prerequisite to 64MB.
3. Add a notice about memory comsumption of upgrade stage 13.
4. Add compatibility functions for higher versions of PHP (polyfill-php.php).
5. Update jQuery from v3.3.1 to v3.5.1.
6. Force browsers to reload JS and CSS files when a new version is installed.

FEATURE ENHANCEMENTS:
1. Add possibility to quarantine resources on import.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.3.1
Focus: Quick bug fix.

BUG FIXES:
1. Fix an error in v6.3.0 upgrade relating to components.json and an incorrect UPDATEDATABASE.php.
2. Upgrade plugins to wikindx plugin version 8.
3. Attempt to deal with a memory leak when caching large PDF files on attachment uploads.
4. As an exception to guarantee access in the event of a misconfiguration or an offline server, if the LDAP authentication of the Super Admin account fails, a second will be attempted with the native method.
5. Prevent the loading of broken plugins.
6. Force to refresh the components.json files on upgrade.
7. Catch more errors of LDAP auth.

MAINTENANCE:
1. Changes the operation of the component version number so as not to mislead users.
2. Increase memory prerequisite to 64MB.

SECURITY:
1. Update PHPMailer to 6.1.6 (CVE-2020-13625).
2. When LDAP auth is On, prevent the user to login without password.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.3.0
Focus: Minor bug fixes and feature enhancements and maintenance.

BUG FIXES:
1. Fix SQL errors on insert citation.
2. Fix SQL errors on listing citing resources when viewing a single resource.
3. Fix display of user bibliography details when viewing a single resource.
4. Fix SQL error in QUICKSEARCH resulting from a NULL id.
5. Fix an error of version check in the repairKit.
6. When loading the basic configuration, only check email settings if email is enabled.
7. Fix the type of the default value of WIKINDX_MAIL_RETURN_PATH to a string and fix the current config.
8. Fix the default smtp encryption method (after a migration).
9. Fix the default smtp backend (after a migration).
10. Fix the type of the default value of WIKINDX_AUTHGATE_MESSAGE to a string and fix the current config.
11. Fix accessors to config variables of array type (#149).
12. Handle a warning in CLI mode about HTTP_HOST.
13. Fix a warning of smarty when the contactEmail is empty.
14. Fix the display of the password size requirement.
15. Bug 214 (https://sourceforge.net/p/wikindx/v5bugs/214/) – allow forward slashes in searches.
16. Ensure the superadmin can edit all quotes and paraphrases (original behaviour that seems to have dropped away).
17. Fix user creation in LDAP context.
18. Fix duplication of username in user creation.
19. Corrected templates – if read-only users are allowed to view attachments (see Admin|Configure), then display attachments when viewing a single resource.
20. Remove statistical lists and ordering (by views, downloads, and popularity indices) as these take too long to compile with large databases.
21. Fix the default value of usersTemplateMenu (#217).
22. Fix the type mismatch bool/Varchar(N) of WIKINDX_LIST_LINK (#216).
23. Fix type mismatch in users options (#218).
24. Fix utf8 encoding of two characters that triggers errors during the manual building.
25. Fix some errors in user administration/preferences.
26. Plugged some memory leaks particularly virulent for large databases.
27. Missing message (https://sourceforge.net/p/wikindx/v5bugs/224/).
28. Admin|Images – fix a bug that causes images (with spaces in their names) to be displayed as NOT used in metadata when they are.
29. Fix the setting of language/locale once and for all . . .
30. Ensure the selected bibliography is taken account of when doing a Quick list all...
31. Fix a potential SQL error with the use of single quotes in the search field of QUICKSEARCH and Advanced Search.
32. Fix some housekeeping statistics generated at the start of each month.
33. Some fixes to user notifications regarding resources added/edited.
34. Ensure specific emails (news and resource notifications) are properly decoded for UTF-8.
35. Fix quicksearch bug (https://sourceforge.net/p/wikindx/v5bugs/226/).
36. Fix an error encoded URLs when paging ideas.

MAINTENANCE:
1. Remove the upgrade code before version 5.1.
2. Remove the PHP mail() function email backend.
3. Remove the option to send erroneous SQL requests by email.
4. Change PHP error level to E_ALL in preparation for PHP 8 support (#186).
5. Rename constants for clarity.
6. Remove duplicate configuration checks.
7. Don't force email ReplyTo to a default wrong value. This option is facultative.
8. Don't force email From to a default wrong value. This option is facultative if the SMTP don't validate the sender.
9. Restrict the LDAP protocol to authorized values.
10. Relocate WIKINDX_TRUNK_VERSION option in the database and rename it WIKINDX_IS_TRUNK.
11. Change the type of the timezone option from TEXT to Varchar.
12. Add WIKINDX_PATH_AUTO_DETECTION option to config.php to explicitly control auto-detection of the path and base url.
13. Drop usersChangePasswordTimestamp column from the DB schema.
14. DB upgrade – transfer data from statistics, resource_misc and resource_attachments tables to new statistics_resource_views and statistics_attachment_downloads tables and drop statistics table and other relevant columns.
15. Add a UNIQUE constraint on usersUsername column (#219).
16. Fix the default value of users table.
17. Disable display of views index, popularity index and downloads index in single resource views and resource lists and disable ability to order by these in Quick list all... operations. On large databases, the compilation of the indices takes too long. At a later stage such indices will be available in the Statistics menu.
18. Update of PHPMailer to 6.1.5 version.
19. Remove superAdmin user configuration from Admin|Configure interface. superAdmin details can be edited from My Wikindx and from Admin|Users|Edit.
20. Update adminer to 4.7.7 (https://github.com/vrana/adminer/releases/tag/v4.7.7).

FEATURE ENHANCEMENTS:
1. When the admin edits a user, a checkbox allows for the bypassing of the password integrity check, removing the need to enter the password again.
2. Added the option to override CSS styles globally. This is linked to in components/template/xxxx/display.tpl and allows the overriding of any CSS in the templates' own .css files. Custom template designers should add:
<link rel="stylesheet" href="components/templates/override.css" type="text/css">
in display.tpl following the template.css link and create a components/templates/override.css in which the global CSS is placed.
3. In the Metadata menu, keyword browsing can now be fine-tuned according to metadata type.
4. When adding/editing a resource, ensure the title and subtitle textareas are locked to plain text. This stops the insertion of HTML code and images etc.
5. Add a guard to disable the LDAP auth when the PHP LDAP extension is not enabled.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.2.2
Focus: Minor bug fixes.

BUGS:
1. Remove a forgotten var_dump() that breaks the output.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.2.1
Focus: Minor bug fixes.

BUGS:
1. Fix the config include of dbadminer plugin.
2. Add missing logos of templates.
3. Fix a config error of the tag high size.
4. Fix the type of configImagesMaxSize option in the configuration panel.
5. Fix the type of configMailSmtpPort option in the configuration panel.
6. Respect the font size limits of the tags cloud.
7. Fix a saving error of the config by converting the font sizes of the tags cloud to a scalling factor.
8. Drop the float type of the config table.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.2.0
Focus: maintenance.

NB: THIS VERSION IS A MAINTENANCE VERSION ONLY TO FACILITATE THE TRANSITION
FROM WIKINDX V5 TO V6. THIS VERSION REMOVES THE UPGRADE SUPPORT OF V3.8
AND V4.X DATABASE.


MAINTENANCE:
1. Drop upgrade support before v5.1.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.1.0
Focus: maintenance.


NB: THIS VERSION IS A MAINTENANCE VERSION ONLY TO FACILITATE THE TRANSITION
FROM PHP 5.6 TO PHP 7.0. ITS CODE IS STRICTLY IDENTICAL TO VERSION 6.0.8
MINUS SUPPORT FOR PHP 5.6, PLUS SUPPORT FOR PHP 7.4. THIS VERSION IS THE LAST
SUPPORTING PHP 7 AND AN UPGRADE FROM WIKINDX 3.8 TO 6.


MAINTENANCE:
1. Drop PHP 5.6 support.
2. Add  PHP 7.4 support.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.0.8
Focus: Minor bug fixes and feature enhancements.

NB: THIS VERSION IS THE LAST SUPPORTING PHP 5.6 AND AN UPGRADE FROM WIKINDX 3.8 TO 6.

BUGS:
1. Fix a syntaxic error in importexportbib plugin.
2. Fix memory leak when email resource change notifications (https://sourceforge.net/p/wikindx/v5bugs/207/).
3. Fix memory leak when upgrading database and compiling the statistics.
4. Fix the initialisation of configUserRegistrationModerate config variable.
5. Fix some test error in the global configuration screen.
6. Add a missing initialisation of configLastChangesDayLimit config variable.
7. Add a missing initialisation of configPagingTagCloud config variable.
8. Remove config options added by mistake (configMaxWriteChunk, configCaptchaPublicKey, configCaptchaPrivateKey, configRegistrationModerate).
9. Fix the configRestrictUserId default value 0 to instead of FALSE.
10. Fix the configLdapDn default value "" to instead of FALSE.
11. Fix a character case error for option configListLink.
12. Fix the name of the default values of global options.
13. Fix a global option name (configSqlEmail => configDebugEmail).
14. Fix the LDAP Server validity check.
15. Fix a crash on a first install when the statistics are compiled without resources available.
16. Fix the name of the default constant value of WIKINDX_CONTACT_EMAIL.
17. Add a missing default value for WIKINDX_DEACTIVATE_RESOURCE_TYPES (configDeactivateResourceTypes).
18. Fix the name of the default constant value of WIKINDX_EMAIL_CONTACT.
19. Fix the name of the default constant value of WIKINDX_EMAIL_NEWREGISTRATIONS.
20. Fix the name of the default constant value of WIKINDX_EMAIL_NEWS.
21. Fix the name of the default constant value of WIKINDX_EMAIL_STATISTICS.
22. Fix the name of the default constant value of WIKINDX_FILE_DELETESECONDS.
23. Fix the name of the default constant value of WIKINDX_IMG_WIDTHLIMIT.
24. Fix the name of the default constant value of WIKINDX_IMG_HEIGHTLIMIT.
25. Fix the name of the default constant value of WIKINDX_METADATA_ALLOW.
26. Fix the name of the default constant value of WIKINDX_PAGING_MAXLINKS.
27. Fix the name of the default constant value of WIKINDX_DEBUG_SQLERROROUTPUT.
28. Prevent errors when the config table is not yet initialized during the installation.
29. Move the initialisation of the config table in LOADCONFIG table: this prevent misconfigured options.
30. Logos without version number.
31. Add missing default values for WIKINDX_BASE_URL and WIKINDX_TRUNK_VERSION options.
32. Fix the language display and setup.
33. Prevent a 404 HTTP error about favicon.ico when a template is not used.

FEATURE ENHANCEMENTS:
1. Implement FULLTEXT searches on some database fields. In QUICKSEARCH and ADVANCED SEARCH, certain fields (abstract, notes, long custom,
and metadata such as quotes, comments etc.) are searched on with MySQL's BOOLEAN FULLTEXT methods. This gives a significant speed gain.
2. Always display a trace and die when a SQL query fails otherwise a debug is very hard when the debug mode is not on or during an upgrade/installation.
3. Add an option to enable/disable the SiteMap.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.0.7
Focus: Minor bug fixes.

BUGS:
1. Fix some heredoc string opening syntax.
2. Fix display of Register User in the Wikindx menu – under the right conditions (Admin|Configure interface), the menu item is now displayed.
3. Fix RSS.
4. Fix text replacement in Help files.
5. Fix an crash during translation in the link dialog of the custom TinyMCE dialog.
6. Remove useless instances of ENVIRONMENT class.
7. Fix a warning in JS debugger of the browser about a missing JS map.
8. Disable the CSS of the TinyMCE dialog in o2k7 skin because this interacts poorly with the templates CSS.
9. Fix the encoding of TinyMCE html files.
10. Use an absolute path for tinyMCE js if possible (unbreak templates CSS in some TinyMCE dialogs).
11. Call LOADCONFIG class in WEBSERVERCONFIG.php which fix a hidden bug in RESOURCEMAP.php during an RTF export.
12. Add a cache directory for common files.
13. Fix RTF export of images (#206).
14. Fix a letter case issue stopping the plugin working on some systems.

MAINTENANCE:
1. Better way of setting WIKINDX_WIKINDX_PATH, wikindxBasePath, and WIKINDX_BASE_URL.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.0.6
Focus: Minor bug fixes.

BUGS:
1. Fix a non-disruptive warning when upgrading from v3.8.
2. Fix an unnecessary GROUP BY statement in QUICKSEARCH that greatly slows down the search.
3. Fix the migration of 5.8.2 styles when foreign files are present in style folders.
4. Fix the migration of image links in papers.
5. Fix the migration of image links in resources.
6. Partial fix for the escaping of a LIKE SQL clause.
7. Change the default language in the user config and try to fix a crash of the chooseLanguage plugin.
8. Fix the sort order of the list of resource types in the configuration.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.0.5
Focus: Minor bug fixes.

BUGS:
1. Fix the character case of style and template options in db.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.0.4
Focus: Minor bug fixes.

BUGS:
1. If QUICKSEARCH is called by the special string $QUICKSEARCH$ on the front page, the help icon is already in use – don't
override it with search help.
2. Fix the character case of all style options in db.
3. Fix the style options to lowercase to avoid empty formatting of resources when a session has a bad character style after a migration from a pre-5.9.1 version or a non-installed style.
4. Prevent a crash when a style already defined in an option is not yet enabled in the new component system.
5. Prevent a crash when a template already defined in an option is not yet enabled in the new component system.
6. Prevent a crash when a language already defined in an option is not yet enabled in the new component system.
7. Repair the image library (JS libs packaged in vendor components).
8. Fix the encoding of the special chars dialog.
9. Fix the special chars dialog (JS libs packaged in vendor components).

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.0.3
Focus: Minor bug fixes.

BUGS:
1. When a user selects menu reduced level 2 from MyWikindx, there were fatal errors when menus with submenus were selected. Fixed.
2. Add a missing string in English messages of collections.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---


v6.0.2
Focus: Minor bug fixes and maintenance.

BUGS:
1. Fix the return value of displayUserAddEditPlain().
2. Add some missing messages.
3. Fix missing variable configIsCreator in Configure.
4. When listing resources containing resources with multiple creators, the number of resources returned as per the paging value was
incorrect. An erroneous GROUP BY statement has been corrected.
5. Ensure read only users have access to some configuration options (Wikindx|Preferences menu).
6. Correct a syntax error preventing code execution under PHP 5.6 and 7.0.

MAINTENANCE:
1. Remove dead code/comments.
2. Removes the class FACTORY_GENERIC which has never been used in practice
   which eliminates the need for the PHP Reflection extension.
3. Check limits of MySQL max_allowed_packet variable.
4. Add a lot of missing function prototypes in manual.


---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v6.0.1
Focus: Minor bug fixes and maintenance.

BUGS:
1. Fix bug #202 (https://sourceforge.net/p/wikindx/v5bugs/202/) – unable to read temporary config.php when editing
plugin configurations – and ensure the temporary file has a secure name (and do this for all temporary files throughout WIKINDX).
2. Fix JS includes of the word processor.

SECURITY:
1. No longer use session_id() as a random string.

MAINTENANCE:
1. Switch the project to license CC-BY-NC-SA 4.0.
2. Add an internal version number that trigger the upgrade process.
3. Fix a warning in the components signature script.


---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v6
Focus: Minor bug fixes.

BUGS:
1. Fix the default db value of the usersLanguage field (auto instead of en_GB) for the RepairKit.
2. Fix some bug in the detection of index mismatchs in the RepairKit.
3. Fix a string access error in BibTex import/export (PHP 7.4 support).
4. Fix an error in the folder check of a component.
5. Fix an error in the version check during an upgrade.
6. Correction of the loading of certain configuration variables defined
   in the database and which have been moved from the config.php file.
7. Fix the migration of the word processor papers.
8. Move all component folders to a "components" sub-folder.
9. Fix the loading of styles.
10. Fix escaping of values in multiUpdate() function.
11. Fix the values updated by the  multiUpdate() function.
12. Fix a wrong array access in upgrade of 5.8.1.
13. Fix the style loading during a setup or when there are only the default style available after an upgrade.
14. Fix the query of contact email during the upgrade.

MAINTENANCE:
1. Enable the check of plugins version.
2. Change the databasesummaryDbVersion field to databasesummarySoftwareVersion and the notion of minor/major upgrade/version.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.9.1
Focus: Minor bug and security fixes and major feature enhancements.

An existing database is upgraded with this release – backup the database before running the code.

DEPRECATED:
1. The database table prefix (wkx_) is kept but its configuration for users
through the $WIKINDX_DB_TABLEPREFIX variable will be removed at the next major
delivery. People who have changed the prefix should rename the tables with the
default prefix and correct their configuration. It will no longer be possible to
install two WIKINDXs in the same database. If you are in this rare case contact us.
2. PHP 5.6 support is deprecated and will be dropped in favor of PHP 7.0.
WIKINDX 5.9.1 is the last version supporting it.

BUGS:
1. Fix for https://sourceforge.net/p/wikindx/v5bugs/169/ (warning on missing array when viewing a resource).
2. Fix some warnings related to sessions [https://sourceforge.net/p/wikindx/v5bugs/170/].
3. When exporting a basket with the importExport plugin (to bibTeX, RTF etc.), sometimes the last multi view was exported instead.
4. When browsing metadata keywords, a fatal error occurred if a keyword was not attached to resources but only attached to ideas.
5. Fix resource edit warning noted in https://sourceforge.net/p/wikindx/v5bugs/166/.
6. In user Preferences, ensure the value of 'Default no. paging links to display/screen' is a minimum of 4.
7. In user Preferences, ensure the language is get from the database when the chooseLanguage plugin is enabled.
8. Disable enchant on Windows because pspell is not installable and restore spell checking for others OS [https://sourceforge.net/p/wikindx/v5bugs/24/].
9. Ensure a basket of resources can comprise just one resource.
10. Fix the display of selectboxes during the setup.
11. send a E_USER_NOTICE error instead of dying when the PHP mail() function is disabled.
12. Fixed inability of new users to register before session data had been loaded.

FEATURE ENHANCEMENTS:
1. In Admin|Components, a remote server may now be queried in order to get new plugins or to update existing plugins,
styles, templates, and languages (only those that are enabled in the Admin|Components interface will be updated). An Internet connection
is required. When updating existing plugins, user edits to the config.php file  are maintained (e.g. the plugin's menu placement) and
those plugins that are disabled will not be updated. This system requires that the variable $wikindxVersion of each plugin's config.php
file be set to 5.9. This assumes that $wikindxVersion was previously 3 and that the plugins are in fact the latest from the Sourceforge
server (https://sourceforge.net/projects/wikindx/files/plugins%20wikindx%20v5.x/). This is a one-off requirement when upgrading to
WIKINDX 5.9.1 in order to get the plugin versions in sync. If $wikindxVersion is not 5.8 for any plugin after installing WIKINDX 5.8.3,
then that plugin will not be visible to users even if enabled in the Admin|Components interface – you will need to update your plugins.
Following the official release of WIKINDX 5.9.1, the latest plugins, styles, templates, and languages will only be available through
the Admin|Configure interface. In order to download and install components, the following directories and subfolders and files must be
writeable by the web user:
plugins/, templates/, styles/, and languages/ [https://sourceforge.net/p/wikindx/v5bugs/172].
2. Increase the minimum PHP version needed for the core to version 5.6.0. This version will be EOL at the end of 2020.
3. Migration of the localisation system to gettext [https://sourceforge.net/p/wikindx/v5bugs/139/].
4. Partial support of PHP 7.4 (some warnings can appear if you use the debug mode, dbAdminer and Visualize plugins, RTF export or PDF
to Text features) [https://sourceforge.net/p/wikindx/v5bugs/173].
5. Be able to use the language sent by the browser [https://sourceforge.net/p/wikindx/v5bugs/80/].
6. Improved interface for Wikindx|Bibliographies.
7. Configure the user's preferred locale in addition to the language (without separating these two notions for the moment).
8. Remove the need of disabling ONLY_FULL_GROUP_BY sql mode and don't force it anymore (ONLY_FULL_GROUP_BY is the default since MySQL 5.7)
[https://sourceforge.net/p/wikindx/v5bugs/68/].
9. Merge and improve the Wikindx|Preferences and Wikindx|My Wikindx interfaces so that the interface now matches Admin|Configure.
10. Cache, data, and third-party software folders are separated into "cache", "data", and "vendor" folders for easy maintenance. On upgrading
the database, copying of existing files is carried out automatically (the admin is informed of this after the upgrade).
- The "cache" folder contains data that can be deleted and will be recreated by the application.
- The "data" folder contains additional information such as attachments, images, and user data that must be saved in the same way as the database.
- The "vendor" folder contains the third-party software libraries used by the WIKINDX core to facilitate their update.
[https://sourceforge.net/p/wikindx/v5bugs/171/]
11. With the new folder structure, remove the options in config.php to configure attachments and files locations.

SECURITY:
1. Migrate the Wikindx official website to HTTPS.
2. Remove options to set a session location ($WIKINDX_SESSION_PATH_CLEAR, WIKINDX_SESSION_PATH).

MAINTENANCE:
1. Update progressbar.js from 1.0.1 to 1.1.0.
2. Update of PHPMailer to 6.1.4 version.
3. Update Smarty from 3.1.23 to 3.1.34-dev-7 : PHP 7.3 and 7.4 compatibility.
4. Remove template.js from templates. Popups are not handled like that anymore and the browser detection of this file is not reliable.
5. Remove aside.txt option from templates.


---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.8.2
Focus: Minor bug, feature, and security fixes and improvements.

BUGS:
1. Fix for https://sourceforge.net/p/wikindx/v5bugs/167/ – select box for languages reverting to default language and slashes before quotes.
2. Fix display of ‘next’ arrow when displaying a random idea.

FEATURE ENHANCEMENTS:
1. Improved the processing and display of creator aliases.

SECURITY:
1. Fix an XSS vulnerability in paging (CVE-2019-13588)

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.8.1
Focus: Minor database upgrade and bug fixes

BUGS:
1. Minor display issues with the 'next' link when displaying a random resource.
2. Incorrect display of resource lists and totals when using alphanumeric paging.
3. In SQL:like(), a collation of 'COLLATE utf8mb4_bin' meant many results were not found in QUICKSEARCH that should have been found.
This has been corrected to 'COLLATE utf8mb4_unicode_520_ci'.
4. Fix for https://sourceforge.net/p/wikindx/v5bugs/156/ – ensure matches across table and directories for attachments (checked when upgrading).
5. Fixed display of internal citations in the long custom field.
6. With a new install of 5.7.3, the folder styles/CACHE/ is missing and WIKINDX will not run. This has been fixed. Errors here, and in 5.7.3,
resulted from the use of a new compression routine when making the release file – this routine did not compress empty folders.

FEATURE ENHANCEMENTS:
1. Removed WIKINDX_ALLOW_DBUPGRADE (too clumsy to use) and instead enhanced the warning messages during DB upgrade in case a user
attempts to use SVN code requiring such an upgrade on a production server.
2. Use the viewport for tablets.

SECURITY:
1. Fix an XSS vulnerability in menu display (CVE-2019-12930)

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.7.4
Focus: Quick bug fix for a broken 5.7.3 release.

Private release that contains bug fix 6 and feature 2 of version 5.8.1.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.7.3
Focus: Quick bug fix for a broken 5.7.2 release

BUGS:
1. With a new install of 5.7.2, the folder tplcompilation/ is missing and WIKINDX will not run. This has been fixed.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.7.2
Focus: Maintenance release

FEATURE ENHANCEMENTS:
1. Migration programming manual to phpDocumentor 3.
2. Full support of PHP 7.3.x (#154).
3. Update json2.js library to 2017-06-12 version
4. Add the constant WIKINDX_ALLOW_DBUPGRADE (TRUE/FALSE). Allow DB upgrade or not. WIKINDX_ALLOW_DBUPGRADE should be FALSE for SVN
	code and TRUE for release code (whether that release code upgrades the DB or not)

BUGS:
1. Add a missing column (resourceattachmentsResourceId) in GROUP BY clause of list common, that fix a crash on MySQL 5.6.x.
2. Check minimal MySql and MariaDB engine version flawlessly, without diying hard, in debug mode.
3. Fix for the search bug and accents (https://sourceforge.net/p/wikindx/v5bugs/157/). A new MySQL server setting for the length of
   GROUP_CONCAT() has been set: if, in config.php, $WIKINDX_DB_PERSISTENT is set to TRUE, set it to FALSE temporarily to pick up this new setting.
4. Fix #158: unterminated regular expression literal in json2.js
5. Fix #159: URL editor: syntax error in advlink.js
6. Fix "character_set_connection" and "collation_connection" values by not calling SET CHARACTER SET 'utf8mb4'
   after SET NAMES utf8mb4 COLLATE 'utf8mb4_unicode_520_ci'; Indeed, "SET CHARACTER SET" has the perverse effect
   of resetting to utf8 these two variables that "SET NAMES" has already positioned well in utf8bm4.
7. Fix https://sourceforge.net/p/wikindx/v5bugs/160/ – abbreviation of creator name lists using et al. or similar.
8. Fix upgrade of [code]example[/code] bbcode tags broken by the migration of preg_replace to utf8:
   Warning: preg_replace(): Unknown modifier '.' in .\wikindx\core\display\BBCODE.php on line 114
9. Fix a bug in the display of ideas. Template designers should change the following in content_ideas.tpl:
		{if isset($ideaList.navigation)}
			<tr>
				<td align="right">
					{"&nbsp;&nbsp;"|implode:$ideaList.navigation}
				</td>
			</tr>
		{/if}
	to:
		{if isset($navigation)}
		<tr>
			<td align="right">
				{"&nbsp;&nbsp;"|implode:$navigation}
			</td>
		</tr>
		{/if}

SECURITY:

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.7.1
Focus: bug fixes for v5.7 and minor feature enhancements. The database is NOT upgraded.

FEATURE ENHANCEMENTS:
1. There are now three ways to add attachments to resources including drag and drop of multiple files.
Template designers should add the following to templates/xxxx/template.css and edit according to style:
	/**
	* START multiple file upload styles
	*
	* Adapted from https://code-boxx.com/simple-drag-and-drop-file-upload/
	*/
	.attachmentBorder {
	 border: #F90 1px groove;
	}
	#uploader {
		height: 200px;
		background: transparent;
		padding: 10px;
		border-width: 1px;
		border-style: solid;
	}
	#uploader.highlight {
		background: #7FFF00;
	}
	#uploader.disabled {
		background: #aaa;
	}
	/**
	* END multiple file upload styles
	*/
2. When editing a resource's attachments, it is now possible to delete all attachments via a single checkbox.

BUGS:
1. repairkit plugin (v1.6.1) : corrected a misnamed, case-sensitive path.
2. Update copyrights.
3. When adding (and caching) a new attachment, the filemtime() check sometimes incorrectly reported the file still needed
caching when going to the front page.
4. Make use of template/xxxx/icons/viewmetaAttach.png in list views when there are both metadata and attachments in a resource.
5. Fix incorrect display of Added by/Edited by 'Deleted user' when displaying lists and single resources.

SECURITY:

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.7
Focus: Major feature enhancements mainly for user authentication, bug fixes, and security improvements. The database is upgraded.
N.B. There are no versions 5.4, 5.5, or 5.6 (bringing WIKINDX version no. in sync. with the database version no.).

FEATURE ENHANCEMENTS:
1. In order to speed up searching of attachments, PDF, DOC, and DOCX files are cached as text files in the new attachments_cache/ folder. A cache
check is done on first running of the home page of v5.7 and above and the caching proceeds as necessary – depending on how many attachments you
have and how large they are, this one-off process might take some time. Subsequently, each time an attachment is added to a resource, it is cached.
2. Added LDAP authentication for accessing the WIKINDX. Set this up from Admin|Configure.
3. Implemented an authentication gate that can be controlled through the Admin|Configure menu. This is intended to ensure users read and accept any
privacy policy such as any used for the EU's General Data Protection Regulation.
4. From the Admin|Users menu, admins can now temporarily block/unblock users. Among other things, blocking users is useful when upgrading the database.
5. Update Smarty from 3.1.30 to 3.1.33 : PHP 7.2 compatibility.
6. Update PHPMailer from 6.0.3 to 6.0.6 : PHP 7.3 compatibility.
7. Different strengths of user password can be set. Set this up from Admin|Configure.
8. Replace AdoDB library by a native Database abstraction Layer that support multiple queries.
9. Use the full power of the native DDL for db upgrade.
10. Provide a way of upgrading the db structure of plugins.
11. Use MySql utf8mb4 encoding and utf8mb4_unicode_520_ci collation that fix a number of sorting issues (based on UCA 5.2.0 weight
keys [http://www.unicode.org/Public/UCA/5.2.0/allkeys.txt]).
12. Version 3 of plugins (fix the display of plugins menus).
13. Optimized database upgrade process.

BUGS:
1. Fixed a session error that led to read-only users experiencing a PHP memory allocation error when listing large numbers of resources.
2. Fixed a minor bug in the search function when inserting a citation that caused an error when there were no results.
3. Fixed a bug in upgrading a pre-v5 database: collections such as journals are no longer being removed from the resources (duplicates are
being correctly removed from the collections table while the collection field in resource_misc is now correctly updated).
4. Fixed a fatal error that stopped wikindx loading if plugin versions were not compatible with the latest wikindx version.
5. 'Quick List All...' now takes account of the user bibliography that is set for browsing.
6. A template error (on the next metadata link) when viewing random metadata has been fixed.
7. Stop changing the charset and the collation of the database because (wikindx can be in a shared db).
8. Fix a warning about configListlink for public access.
9. Fix an error in the template compilation of the resource delete page. Template designers should amend the following lines in content.tpl:
	{if isset($resourceList.submit)}
	<div class="resourceListSubmitBlock">{$resourceList.submit}</div>
	{/if}
to:
	{if isset($submit)}
	<div class="resourceListSubmitBlock">{$submit}</div>
	{/if}
10. Fixed a minor issue with presenting the logon screen following a logout if read only access was enabled.
11. Fixed a bug with the display of quotes, paraphrases, and musings. Template designers should change the following (or similar) in:
	content_quotes.tpl:
		<td><strong><span class="small">{$resourceSingle.quotes.title}</span></strong>
		{if isset($resourceSingle.quotes.editLink)}&nbsp;&nbsp;{$resourceSingle.quotes.editLink}{/if}</td>
	to:
		<td><strong><span class="small">{$resourceSingle.quotesTitle}</span></strong>
		{if isset($resourceSingle.quotesEditLink)}&nbsp;&nbsp;{$resourceSingle.quotesEditLink}{/if}
		</td>
	and
	content_paraphrases.tpl:
		<td><strong><span class="small">{$resourceSingle.paraphrases.title}</span></strong>
		{if isset($resourceSingle.paraphrases.editLink)}&nbsp;&nbsp;{$resourceSingle.paraphrases.editLink}{/if}</td>
	to:
		<td><strong><span class="small">{$resourceSingle.paraphrasesTitle}</span></strong>
		{if isset($resourceSingle.paraphrasesEditLink)}&nbsp;&nbsp;{$resourceSingle.paraphrasesEditLink}{/if}
		</td>
	and
	content_musings.tpl:
		<td><strong><span class="small">{$resourceSingle.musings.title}</span></strong>
		{if isset($resourceSingle.musings.editLink)}&nbsp;&nbsp;{$resourceSingle.musings.editLink}{/if}</td>
	to:
		<td><strong><span class="small">{$resourceSingle.musingsTitle}</span></strong>
		{if isset($resourceSingle.musingsEditLink)}&nbsp;&nbsp;{$resourceSingle.musingsEditLink}{/if}
		</td>
12. Fixed an issue with user self-registration that sent users to the login prompt instead of the registration screen.
13. Fix for bug https://sourceforge.net/p/wikindx/v5bugs/151/ – incorrect browsing of collections.
14. Fix slow queries on some installations of MySQL when INFORMATION_SCHEMA and TABLE_SCHEMA are used.
15. Fix for bug https://sourceforge.net/p/wikindx/v5bugs/123/ (surnames with apostrophe or dash were not found when entered into
quicksearch and cases where one author goes under several nom de plumes).

SECURITY:
1. Enforce session security against session usurpation, cookies forgery, and Cross-Site Scripting attacks.
2. Add a .htaccess in docs/manual to prevent malicious code execution in that directory.
3. On WIKINDX initialization, forbid common superadmin usernames.
4. Update Smarty from 3.1.30 to 3.1.33 : fix for CVE-2018-16831.
5. Update PHPMailer from 6.0.3 to 6.0.6 : Fix potential object injection vulnerability. CVE-2018-19296.
6. Fix an XSS Vulnerability in ressource view (CVE-2019-9961).

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.3.2
Focus: Minor feature enhancements and bug fixes.

FEATURE ENHANCEMENTS:
1. Optimizations to search and list routines: speed is improved and next/previous links on single resource view work as they should.
2. Optimizations of SQL inserts when organizing large numbers of resources (resource lists can be bulk-reorganized with keywords, categories etc.).
3. Improved display of idea lists and the idea thread view now has links for previous and next thread.
Template designers should add the $ideaListInfo block to their content_ideas.tpl file
(see templates/default/content_ideas.tpl) and change the code
	<td align="right">
		{$ideaList.navigation}
	</td>
to
	<td align="right">
		{"&nbsp;&nbsp;"|implode:$ideaList.navigation}
	</td>

BUGS:
1. Admin Configure Miscellaneous interface: Fix incorrect sorting on restricted user so that the database userId is correctly used.
2. When citing another resource, ensure the apostrophe is no longer split in some citation styles. e.g. "As Grimshaw (2018)'s
article states" is now correctly rendered as "As Grimshaw's (2018) article states".
3. Corrected incorrect mapping of page numbers when importing bibtex files with book chapters.
4. Minor debugging and improved validification of search phrase.
5. https://sourceforge.net/p/wikindx/v5bugs/140/ (delete images) and some related debugging re. uploading of images.
6. Fix an issue stopping a newly registered user logging on.
7. Update special chars table to Unicode 11
8. Fix broken session saveState() – for logged on users, sessions are now restored for each logon.
9. Fix minor error in monthly statistics compilation.
10. Fix bibtex and endnote import where deactivated resource types were not ignored (https://sourceforge.net/p/wikindx/v5bugs/143/).

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.3.1
Focus: Minor feature enhancements and bug fixes. The database is upgraded.

1. Improved wildcard matching in quick search and advanced search.
2. Progress on PHP 7.2 support.
3. When first adding (rather than editing) quotes, paraphrases, and musings, fill in the keyword textarea with the resource's keywords.
4. Request dx.doi.org, wikipedia, sourceforge.net, amazon, www.ncbi.nlm.nih.gov, www.unicode.org via HTTPS.
5. resourceForm.js, RESSOURCEWRITE.php : test HTTP and HTTPS.
6. Added the American 'Fall' (Autumn) to the list of months in English CONSTANTS.php
7. Added calendar functionality to embargo date when adding an attachment to a resource and to the resource new/edit form.
8. Rewritten the Admin|Configure interface to be more user friendly.
9. Many variables in config.php have been moved to the Admin|Configure interface. Check config.php.dist to see what is now expected
in config.php. When upgrading an existing WIKINDX to v5.3, config.php is rewritten with a limited set of variables – all other variables
are transferred to the database which is upgraded when running v5.3 for the first time.
10. Via Admin|Configure, it is now possible to display all statistics to read-only users (choosing to hide user data if required).
11. Update jQuery from v1.12.4 to v3.3.1.

BUGS:
1. Fix bug #126 : PHP 7.2 changes the behaviour of sessions and we can't define *session.usecookies* at startup.
Since *session.usecookies* is ON by default after PHP 5.3, we can remove this operation safely.
2. Fixed the display of backslashes in text fields.
3. Some journal article page numbers are given in the format 500.e1-500.e9 where, presumably, the 'e'
stands for electronic (online). Such numbers are now stored as is instead of being expanded as an exponent (e.g. 500.e3 –> 500000).
4. Fix a crash of all templates on attachments listing when an anonymous user sees a resource.
5. Fix warnings in image uploader (unable to calculate the size of the uploaded image).
6. Fix bug #126 : count on non array variable is now forbidden.
7. Remove a dead JS link (blocking for IE).
8. Fix wikindxImageDialog.js to accept https content.
9. Fix HTML syntax errors.
10. Under some circumstances, a previously entered URL was not displayed when editing resources.
11. Under some circumstances, the editUserId field was not updated in the database when editing a resource. This resulted in the
display of 'Deleted User' as the last person editing the file.
12. Fix to https://sourceforge.net/p/wikindx/v5bugs/132/ (searching on exact phrase with a filtered word).

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.2.2
Focus: Minor feature enhancements and bug fixes.

1. Upgrade PHPMailer to 6.0.3 (no new option provided, but imply that autosigned certificates
   are allowed, server names are not checked:
   cf. https://github.com/PHPMailer/PHPMailer/wiki/Troubleshooting#updating-ca-certificates).
2. Upgrade PdfToText to 1.6.6 (add compliance with PHP versions < 5.6 and a better support of UTF8).
3. Word search fields in Quick and Advanced search can now use the wildcard characters '?' and '*'.
These are treated as literal characters in "exact phrases".
4. Bug fix: https://packetstormsecurity.com/files/146208/Wikindx-5.2.1-Cross-Site-Scripting.html

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v5.2.1
Focus: Major feature enhancements, optimization, and minor bug fixes.

NB -- This version upgrades the database so ensure your pre-existing WIKINDX database is
backed up before running.  Either a v3.8.2 database or a v4.x database can be upgraded.

NB -- at least PHP 5.5.0 is now needed.

NB -- template designers will need to update their .tpl files to account for Smarty 3.1's
stricter type and variable checking (without 2.x BC compatibility mode).
This means the use of {if isset($variable)}. . .{/if} statements. See the default/
templates for examples.

NB -- you will need to add the following variables to config.php (see config.php.dist):
1. $WIKINDX_CMS_LANGUAGE
2. $WIKINDX_MAX_WRITECHUNK
3. $WIKINDX_IMAGES_ALLOW
4. $WIKINDX_IMAGES_MAXSIZE
5. $WIKINDX_DEBUG_EMAIL

A number of email-related variables have been removed from or added to config.php --
see Feature Enhancement 15 below.

$WIKINDX_RSS_HOST has been removed from config.php.

NB -- if your database is over 1500 resources and you expect to export
lists of resources of at least this length (with the importexportbib plugin), then you should set
public $WIKINDX_MEMORY_LIMIT = "64M";
or more in config.php in order to avoid memory allocation errors. See also $WIKINDX_MAX_WRITECHUNK.

FEATURE ENHANCEMENTS:
1. Added ideas. Where musings are specific to resources, ideas are database
wide, are threaded and can be public, private or shared
with a group. Template designers should update their .tpl files accordingly.
See templates/default/content.tpl and templates/default/content_ideas.tpl --
a new .tpl file, content_ideas.tpl, should be created and linked to in content.tpl
in the section labelled
{* START METADATA ENTRY DISPLAY (NEW/EDIT QUOTES, PARAPHRASES, MUSINGS AND COMMENTS) *}
2. Added a glossary. When adding/editing keywords, a glossary annotation may be
appended to the keyword. The annotation is displayed when the mouse hovers over a keyword.
3. Resource originators can delete resources they added.
4. Replaced Select Resources, Search Resources, Select Metadata, and Search Metadata
with a new Advanced Search that allows complex, composite search and select operations
to be quickly and easily constructed. Additionally full-text searches may be performed
on resource attachments of type PDF, DOC, or DOCX. Files larger that 10MB are quietly ignored. Searching
across several attachments takes some time . . . If your PHP installation has CURL installed, this
time is dramatically cut.
5. My Wikindx email notification. When setting notification to a digest of recent updates,
added the option to receive either a list of all recently added or edited resources or,
above a set value, just the total number of added or edited resources since the last notification.
6. Bibliographic styles can now include custom fields if these have been added to the
style using the adminstyle plugin.
7. When adding or editing a resource that belongs to a collection (e.g. an article in a
journal, a paper in proceedings), selecting the collection from the select box will now fill
in default data for that collection in several other fields. This can be overridden in the
resource add/edit form for each individual resource. The default values are set when editing
collections and the process of editing these values will also apply them to all resources in
that collection.
8. Added a new image browser for use when inserting images in the metadata textarea. In addition to
pointing the image to a URL (as before), users can now upload images to the images/ folder and can
browse and select images. This uploading can be disabled by setting the new configuration variable
$WIKINDX_IMAGES_ALLOW (see config.php.dist) to FALSE. File sizes are controlled through WIKINDX_IMAGES_MAXSIZE.
9. Clear template cache after the user chooses another template.
10. Upgrade Smarty template engine to version 3.1.30.
11. Upgrade ADOdb from v3.1.1 to v5.20.9.
12. Upgrade to HTML 5.
13. Add support for robots.txt and sitemaps to facilitate indexing of public content by web crawlers
and to hide internal stuff.
14. For reasons of memory optimization when displaying lists, COinS data (e.g. for exporting resources to Zotero)
have been separated from the list display. To access COinS, display a list then chose 'Export to COinS' from the
select box.
15. PEAR::MAIL is no longer used by WIKINDX. Instead, email has been rewritten to use PhpMailer 5.2.23 (https://github.com/PHPMailer).
Variables pertaining to email have been deleted in config.php: $WIKINDX_PEARMAIL_USE and $WIKINDX_MAIL_SMARGS
have been removed and xxxx_PEARMAIL_xxxx variables have been renamed to xxxx_MAIL_xxxx -- check config.php.dist.
16. Upgraded statistics view to give more options.
17. RSS feed conforms to the RSS standard and $WIKINDX_RSS_HOST has been removed in config.php.
18. Convert database table names to lowercase to be crossplatform.
19. Full support of UTF8 (code base and database [MySQL 3 bits only]).
20. More advanced RTF export of resources.
21. Compliance with RTF 1.9 specification.
22. Google's CAPTCHA (for user registration) has been replaced by a WIKINDX solution.

OPTIMIZATION:
1. Database: All data from research_quote, research_quote_text, research_quote_comment,
research_paraphrase, research_paraphrase_text, research_paraphrase_comment, research_musing,
research_musing_text have been moved into research_metadata and those tables removed. Columns in
research_keyword relating to quotes, paraphrases, and musings have been removed and their data
transferred to the researchkeywordMetadataId column.
2. Removed some javascript pop-ups in favour of HTML pop-ups (cf single resource view: 'View
all bibliographic details').
3. Many SQL statements have been optimized for speed especially those related to searches.
4. Other speed optimizations such as the loading of bibliographic styles.
5. PHP memory optimizations.

BUG FIXES:
1. Fixed SQL injection bug reported at: https://sourceforge.net/p/wikindx/discussion/326884/thread/9976f9f5/.
In config.php, WIKINDX_DEBUG_ERRORS should be FALSE on production servers.
2. Minor bugs with making the bibtexKey when importing bibtex.
3. When alphabetical paging is on, sorting by title produced an SQL error. This has been fixed.
4. Fixed a bug that, in some circumstances, prevented part-registered users from confirming their
registration.
5. Fixed a bug in SMTP.php that sometimes sent out news items to multiple addresses multiple times.
6. When editing a resource, the ID of the originator of the resource was replaced by the editor's ID. This
has been fixed.
7. When displaying a list of resources, deleting items from a user bibliography or from the database
has been fixed.
8. The peer reviewed flag has been added to books, book articles, and book chapters.
9. Users could be identified with resource creators when the user was added or edited. Now, from the
Admin|Config menu, the superadmin can likewise be identified.
10. Fix any memory leaks due to an oversight in fclose().
11. Separate is_dir and file_exists tests because order evaluation is not guaranteed for the same operator precedence in TEMPLATE loading.
12. Double quotes in a resource title caused display problems -- this has been fixed.
13. Braces {...} are removed from database field values that serve as the ordering field in lists, searches, browses and so on.
14. Fix some missing aspects of header and footer behaviour in specific pages (popup and page without menu).
15. Separate template cache to not confuse template programmer between template directories and special directories for template.
16. Remove use of functions deprecated in PHP < 7 (except MySQL extension).
17. Set unlimited memory when we launch a backup with the backupMySQL plugin (for very large databases).
18. When storing the plain version of resource title and subtitle (stored in resource::resourceTitleSort), ensure all HTML and
non-letter symbols are removed in order to correctly sort resources by title.
19. Turn on error_reporting to E_ALL if required to follow PHP >= 5.4.x policy.
20. Inifite loop if a curly brace was not balanced in titles.
21. Timeout in RTF export when a resource contains a picture.
22. Return correct mime types.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.2.2
Focus:  Minor bug fixes and feature enhancements

FEATURE ENHANCEMENT:
1.  Using the localeDescription plugin, users can now change the front page description (default set in Admin|Configure) to
a localized version if the user chooses that language localization.
2.  Quicksearch has been simplified to just text input and the default join between search terms is now OR rather
than AND (this mirrors Goggle-type searching).
3.  When creating/editing a new resource that can have a month publication date (e.g. journal article), seasons can now be added (e.g. Spring).
Localization editors should add the four season names to the two month arrays in languages/<lang.>/CONSTANTS.php as in the English version of
CONSTANTS.php
4.  Bibliographic styles mean that not all bibliographic details are displayed when viewing resources. Therefore, when viewing a single resource,
all bibliographic details for that resource can now be displayed.

BUG FIXES:
1.  Issues to do with localization languages and the logon prompt and some submit buttons.
2.  When adding attachments, all embargo fields in the attachments table were updated.
3.  When installing a fresh database, sometimes the user was unable to get to the configuration screen to set initial
superadmin details.
4.  If only one new category was added, it was not possible to edit or delete it until a second category had been added.
5.  Amended the SMTP code for emails to account for cases where the wikindx is operating through URL rewrite/redirect. Links to
wikindx added to emails under these conditions are now correct.
6.  When importing bibTeX, keywords now have HTML and javascript stripped.
7.  RSS feeds now fully validate with validator.w3.org. If RSS is turned on in config.php, an icon is set to be displayed in the
template's menu.tpl. Template designers should amend their custom templates accordingly.
8.  Fixed English CONSTANTS.php so that timezone set in config.php now works.
9.  Fixed https://sourceforge.net/p/wikindx/v4-bugs/79/ (re-ordering searches on creator IDs caused a SQL error).
10. For a new resource, abstract and note were not written to the database if there was the possibility of adding a small custom field
(but with no large custom field).
11. When importing/pasting bibtex, an '=' sign in the value string of an entry must now be escaped for it not to be taken as the key=value delimiter.
12. When editing a resource, any URL in a long custom field was messed up (https://sourceforge.net/p/wikindx/v4-bugs/87/).
13. When adding or editing a book chapter or book article, the details of a translated book either led to an error or were not written to the database.
14. Fixed an error in form header generation that stopped some forms (e.g. the bibliographic style plug-in) from working.
15. On some server environments, filepaths were incorrect for some tinyMCE functionality.
16. Improvements to core bibtex exporting especially when using the importexportbib plugin (the plugin should be updated to importexportbib4.2_1.6).

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.2.1

This version upgrades the database so ensure your database is backed up before running.  Either a v3.8.2
database or a v4.1 database can be upgraded.

NB Template designers:
1.  You will need a new icon in your template called 'toTop.png' (see templates/default/icons/).
2.  Javascript functions for various popup windows have been removed from template.js.
3.  You should shift the loading of the core javascript to be before the loading of template.js. In header.tpl,
the javascript section should now look something like this ($scripts has been moved):

	<!-- Required Javascript -->
	{* Placeholder for any javascript scripts or includes added in the PHP scripts.  DO NOT REMOVE. *}
	{$scripts}
	{* Leave these assign lines *}
	{assign var=loadAjaxScript value=$loadAjaxScript|default:false}
	{if $loadAjaxScript}
	<script src="core/ajax/ajax.js"></script>
	{/if}
	{* Change this path *}
	<script src="{$tplPath}/template.js"></script>

Loading the core javascript functions first allows you to override these functions, such as the popup window
functions, in your template.js simply by redeclaring the functions in your template javascript (see core/coreJavascript.js).

See BUG FIX 8. below for updating config.php.


FEATURE ENHANCEMENT:
1.  Plugins must now have $wikindxVersion in their config.php files.  This must be an integer that is equal to
WIKINDX_PLUGIN_VERSION defined in core/startup/CONSTANTS.php, if it is not, the plugin will not load in the menus
or inline although you will still be able to administer them from the Admin|Plugins menu.
2.  WIKINDX converted to use with PHP's mysqli functions as mysql functions will soon become deprecated.
3.  All GROUP BY functions made compatible with MySQL's ONLY_FULL_GROUP_BY mode.
4.  Updated the database to increase field sizes for resource titles, subtitles etc. to account for titles such
as those found here: http://oldbooktitles.tumblr.com/
5.  Updated the database to increase the usersUserSession field which was overflowing in 4.1 and causing problems
with navigation.
6.  Updated the database to increase the field sizes in the cache table.
7.  Added a database field and enabled the user to add a description for each resource's attachments.
8.  Improved the interfaces for new/edit resource, resource category/keyword etc. editing, and search/select resources/metadata.
9.  Improved resorting of lists.
10.  When viewing a list, improved the interface to add/remove chosen resources to/from categories/keywords etc.
11.  Statistics can now be viewed for each user.
12.  Improvements to the interfaces for Admin editing of categories and subcategories.
13.  Statistics (less user data) are now available to all users.
14.  Several interface improvements (e.g. editing keywords, creators, custom fields, categories etc.).
15.  Added the option to ignore keywords when importing bibTeX resources.
16.  When deleting a user, the choice is given to leave the user's metadata (quotes etc.) unchanged, to transfer them to the
superadmin, or to delete them.
17.  The separator for authors in BibTeX imports can now be 'and', 'AND', or '&' ('AND' added).

BUG FIX:
1.  When deleting a resource, all fields in the database_summary table were set to '1'.  The repairkit plugin
does a check and fix of this if this has happened in the past.
2.  Fixed a preg_replace warning when parsing bibtex creators.
3.  In RSS feeds, the resource type is now translated.
4.  DOI fields are now correctly resolved.
5.  When selecting a resource from the front page, the next/previous arrows gave the wrong result.
6.  Corrections to RSS feed.
7.  When upgrading a v3.8.2 database, a more extensive check of UTF-8 characters is carried out.
8.  Sometimes, depending on the OS or if the root directory of wikindx is not searchable (i.e. if PHP's getcwd() does
not work), the TinyMCE editor will not function completely.  To fix this, $WIKINDX_WIKINDX_PATH has been added to
config.php.dist and should be copied to config.php.
9.  If a resource had usertags, the references to those usertags were not removed when the resource was deleted.
10.  Attachments were not deleted from the table or from the folder when a resource was deleted.
11.  Several other minor bug fixes.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.9
Focus:  Minor bug fixes

BUG FIX:
1.  Unable to add a new user:  https://sourceforge.net/p/wikindx/v4-bugs/45/
2.  Despite admin configuration forbidding it, registered users were still able to add attachments.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.8
Focus:  Minor feature enhancement and major bug fix

FEATURE ENHANCEMENT:
1.  When viewing a list from List Resources or Browse, the list/browse parameters are now displayed.

BUG FIX:
1.  When merging keywords, if one keyword was selected and a new keyword was typed and the two, regardless
of case, were equal, all keywords were deleted from the database.  See https://sourceforge.net/p/wikindx/v4-bugs/43/

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.7
Focus:  Minor bug fix

BUG FIX:
1.  Missing PHP file added back to release

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.6
Focus:  Minor feature enhancements and bug fixes

FEATURE ENHANCEMENTS:
1.  Improved the database upgrade process: more information at the start especially about
PHP memory issues leading to blank pages (during upgrading, PHP error reporting is turned on).
2.  Added index.html to certain folders to stop users being able to get a directory listing. The file
is empty -- edit these files if you wish to redirect (see: https://sourceforge.net/p/wikindx/v4-feature-requests/20/).
3.  Added $WIKINDX_MAX_EXECUTION_TIMEOUT to config.php (copy it from config.php.dist).

BUG FIX:
1.  Inconsistency in conferences and publisher fields for proceedings and proceedings_article types.
2.  When viewing a single resource and using numeric paging, the next and previous links work for the entire list.
3.  Correction to bibtex export for web_articles.
4.  Corrected errors when installing a fresh wikindx that had crept in c.v4.1.3.
5.  v4.1 switches the numPages data for books and theses from resourceField6 to resourcemiscField6 -- this is now accounted for
in the database update process.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.5
Focus:  Major Bug Fix

BUG FIX:
1.  Deleting a note would delete all notes, deleting an abstract would delete all abstracts.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.4
Focus:  Bug fixes

BUG FIXES:
1.  Fixed some styles not displaying author names correctly.
2.  Some fixes to list displays when using alphabetic ordering in Preferences.
3.  When editing resources, under some circumstances and when removing creators, the resource_creator table was not written correctly.
4.  When upgrading a database from v3,8,2, bad UTF8 characters are fixed.
5.  Fix for bibTeX export: https://sourceforge.net/p/wikindx/v4-bugs/26/

Other minor bugs mainly to do with warnings and formatting.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.3
Focus:  Minor bug fix

BUG FIXES:
1.  When upgrading a v3.8.2 database, the sql_mode is set incorrectly

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.2
Focus:  Minor feature enhancements and bug fixes

FEATURE ENHANCEMENTS:
1.  When viewing lists ordered by title, creator or attachments and with alphabetic paging turned on, paging letters
are aggregated until the max. no. resources to display is reached.  Instead of single letters, if the max. no.
is 10, resources listed under A, B, C will be displayed on one screen as 'A~C' if they total <= 10 and so on.
2.  When importing and exporting bibTeX files, for @book and @thesis types, the bibTeX field 'pages' maps to number of pages.
3.  Added a dateFormat() method to languages/en/CONSTANTS.php so that date and time formats can be in accordance with the
selected localization.  CONSTANTS.php in each installed localization should be adjusted accordingly.
4.  In the 'Insert citation' dialog of the WYSIWYG editors, creator, keyword and user_tag fields can now be searched on.
5.  Added a check on startup that certain files and folders are writeable by the web server user.

BUG FIXES:
1.  When editing a resource where the title and/or subtitle have UTF-8 characters such as real apostrophes,
the fields are no longer truncated.
2.  If two resources of the same resource type and title exist, editing one of those resources produces
the warning about duplicate resources -- if accepted, a third resource is produced and so on.
3.  Single quotes in search strings are now escaped.
4.  Under certain configuration settings, some registered users could not add/edit attachments and urls.
5.  When searching, ordering by publication year was incorrect.
6.  Searching on some existing creator names produced a SQL error.
7.  Errors in updating resource_creator table when merging creators.
8.  When merging keywords, the keyword cache was not cleared.
9.  Resources such as web_article etc. now require a URL.
10. In category tree, subcategories did not display correctly.
11. In some cases, a new localization was only loaded after the page was reloaded.
12. When logged on as admin, the Admin|Plugins menu item is now shown so that plugins, templates, localizations,
and styles can be managed and configured.

Other minor bugs mainly to do with warnings and formatting.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1.1
Focus:  Minor feature enhancements and bug fixes

FEATURE ENHANCEMENTS:
1.  More options added to CMS output.  See docs/README_CMS.txt

BUG FIXES:
1.  Bibtex Paste input is now cleared of any previous text.
2.  Under some circumstances, keywords and user tags were not added to resources when editing resources.
3.  Some missing messages for table and image in the tiny_mce editors.
4.  SQL error in SELECT resources when choosing just the option NOT in user bibliography.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

v4.1
Focus: Major feature and interface enhancements, significant speed improvements, bug fixes and program/database re-structuring.

STRUCTURAL ENHANCEMENTS:
1.  The database has been re-structured mainly to allow the provision of a table prefix in hosting situations where
the user may only have one database (see wikindx4/config.php $WIKINDX_DB_TABLEPREFIX).
2.  v4 requires >= PHP5.2.9 -- and has been re-written in a more OOP-like manner to reflect this -- and requires
that javascript be enabled in the web browser.  PHP5.2.9 also allows full use of AJAX/JSON techniques to improve
the user interface and this is used in several areas of WIKINDX.
3.  v4 requires at least MySQL 4.1 to cater for subqueries.
4.  The database now uses the UTF-8 character set and collation.
5.  v3.x plug-in modules will require minor re-writes to become compatible with the new v4 structure.
6.  The core code is smaller and many extraneous functions in previous versions are now available as separately downloadable
plug-in modules.
7.  v4 uses Smarty templates for the display and greater control has now been given to admins over the visual display of many
elements and pages.

FEATURE ENHANCEMENTS include:
1.  For registered users, the session state is now automatically saved (bookmarks, searches, basket etc.) without requiring an
explicit log-off.
2.  Cited authors may now be browsed as a tag cloud.
3.  Publication years may now be browsed as a tag cloud.
4.  Resource types may now be browsed as a tag cloud.
5.  For registered users, their user bibliographies may now be browsed as a tag cloud.
6.  Multiple URLs may now be stored with each resource.
7.  Bibliographic style files are now cached speeding up formatting operations.
8.  New Subcategories are organized hierarchically below Categories.  Each category can have zero or multiple subcategories;
each subcategory belongs to one and only one category.
9.  Registered users can make use of new user tags (managed from the My Wikindx menu).  These function like personal keywords
for resources.
10.  Custom fields are now searcheable from within Search.
11.  Resources added by registered users can now be optionally quarantined and blocked from public view until approved by an
administrator. Administrators can quarantine resources at any time.
12.  When displaying lists of resources, by default any URLs that appear as part of the bibliographic format for that resource
are hyperlinked to that URL.  Registered users can now set the entire resource to be hyperlinked to viewing that resource.
13.  In addition to merging creators (where the merged creators will be deleted and subsumed under the target creator), admins
may now group creators.  This is intended for situations where one person may be represented by different creator names but
you wish to keep those creator names accurate to the original bibliographic source.  Grouped creators will not be deleted but,
in select and browse operations, a selection of any member of a group will produce a list of resources for all members of that group.
14.  Registered users can now be placed in a department and institution for organizational purposes and can be specified as a
creator for email notification of resource edits where they are a creator.  If a creator has been specified for users, departments
or institutions, these three can be listed in the browse menu.
15.  Attachments can be embargoed (blocked from public view) until a specified date -- the embargo is automatically lifted on
or after the specified date.  Until that time, only admins can view embargoed attachments.
16.  BBCode is now no longer used and all form fields that previously used BBCode now use the WYSIWYG TinyMCE editor (WIKINDX v4
uses TinyMCE v3.5.5).  All such form fields are now, therefore, WYSIWYG.  The database upgrade process for v3.8 wikindices converts
BBCode elements to HTML elements.
17.  User registration requests can now be checked using CAPTCHA technology in order to cut down spam and bot requests.  Get public
and private keys for your domain from: https://www.google.com/recaptcha/admin/create and enter them in config.php.
18.  If the email subsystem is enabled, WIKINDX can now use the more efficient PEAR::Mail rather than PHP's default Mail().
PEAR::Mail is not part of the standard PHP install.  See config.php for configuration options.
19.  A search string can now be specified using combinations of double quotes, AND, OR, and NOT.
20.  In a multi-user system, admins can set statistics (resource views and attachment downloads of users' resources) to be
emailed to registered users who are creators in the database.  Statistics are emailed on or after the 1st of each month and are
triggered by the first user (inc. read only) to access the wikindx on or after that date.
21.  Conference poster and company brochure added as resource types.
22.  Added a top-level menu 'search'.
23.  Added Quick Search and the special string $QUICKSEARCH$ to place the quick search form on the front page (see Admin|Configure).
24.  When viewing a list, selections from that list may be placed in the basket.
25.  Added a language field to resources.  Like categories and subcategories, languages must be added by the admin and can be
browsed, selected and searched.
26.  BibTeX import has been improved to handle UTF-8 encoding.
27.  BibTeX export has been improved to offer a choice of ',' or ';' to separate keywords and a choice of UTF-8 or Latin (ISO-8859-1)
and TeX encoding.
28.  WIKINDX uses multi-level menus to make efficient use of the screen space.  The number of menu levels can be set in user
preferences unless the template designer has mandated a specific number.
29.  The provision of a valid ISBN/ISSN for a resource makes that number hyperlinked to the Wikipedia 'Book Sources' site when
viewing that resource.
30.  Admin|Plugins allows admins to manage (e.g. enable or disable) plugins, templates, languages and bibliographic styles.
31.  WIKINDX resources can now be optionally indexed by Google Scholar.

BUG FIXES include:
1.  All querystring and form input is now stripped of javascript tags and other unwanted information.

OTHER ENHANCEMENTS
1.	Significant improvements to SQL execution speeds especially for complex queries and wikindices with large numbers of records.
2.	Interface improvements re entering/editing new resources -- all fields are now entered on one page -- and search and list pages.

---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---
---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---:::---

CHANGELOG v3, v2 and v1:  see wikindx3/CHANGELOG in the wikindx3.8.2 download
